<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript">
    </script>
  <script type="text/javascript" language="JavaScript">
    var mqtt;
    var reconnectTimeout = 2000;
    var host = "192.168.0.61";
    var port = 9001;

    function onConnect(){
      console.log("Connected");
      //mqtt.subscribe("sensor")
      message = new Paho.MQTT.Message("Hello World");
      message.destinationName = "sensor1";
      mqtt.send(message);
    }
    function MQTTconnect(){
      console.log("connecting to"+host+" "+port);
      mqtt = new Paho.MQTT.Client(host,port,"clientjs");
      //document.write("connecting to " + host );
      var options = {
        timeout: 3,
        onSuccess: onConnect,
      };
      mqtt.connect(options);//connect
    }
  </script>
</head>
<body>
  <h1>Main Body</h1>
  <script>
    MQTTconnect();
  </script>
</body>
</html>